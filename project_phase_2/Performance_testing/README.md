# Performance Testing Summary
Load Test, Stress Test, Soak Test และ Spike Test

------------------------------------------------------------------------

## 1) Load Test --- ระบบรองรับได้กี่คนก่อนที่ Response Time จะเกิน 1 วินาที?

จากการทดสอบ Load Test พบว่า:

-   ระบบรองรับผู้ใช้งานพร้อมกันได้ประมาณ **5--8 คน**
    โดยยังสามารถตอบสนองได้ภายใน **1 วินาที**
-   เมื่อเพิ่มเป็น **10 คนขึ้นไป** ค่า Response Time
    เพิ่มขึ้นอย่างชัดเจน
-   ค่า p95 สูงถึง **5--14 วินาที** ซึ่งเกินเกณฑ์ 1 วินาทีมาก

**สรุป:**\
ระบบสามารถรองรับโหลดทั่วไปได้ดีในช่วง 5--8 ผู้ใช้ แต่เมื่อถึงประมาณ 10
ผู้ใช้ ระบบเริ่มช้าลง เนื่องจากส่วนของ SSR Render เริ่มใช้ CPU
หนักจนทำให้การตอบสนองล่าช้า

------------------------------------------------------------------------

## 2) Soak Test --- ตรวจสอบ Memory Leak หรือปัญหาคงค้าง

การทดสอบ Soak Test ที่ระดับโหลด **8 Virtual Users ต่อเนื่อง 15 นาที**
พบว่า:

-   **ไม่มี request ล้มเหลว (http_req_failed = 0%)**
-   ไม่พบอาการที่บ่งชี้ว่าเกิด memory leak
-   อย่างไรก็ตาม ค่า p95 เพิ่มขึ้นเป็น **4.35 วินาที**
    แสดงให้เห็นว่าระบบช้าลงเมื่อทำงานต่อเนื่องเป็นเวลานาน

**สรุป:**\
ไม่พบ memory leak แต่พบการลดลงของประสิทธิภาพ (performance degradation)
เนื่องจากการประมวลผล SSR หนักขึ้นเมื่อใช้งานต่อเนื่อง ซึ่งเกิดจาก CPU
มากกว่า RAM

------------------------------------------------------------------------

## 3) Stress Test --- ระบบเริ่มมีปัญหาที่จำนวนผู้ใช้เท่าใด?

จาก Stress Test ที่เพิ่มจำนวนผู้ใช้อย่างต่อเนื่อง พบว่า:

-   ระบบเริ่มมีปัญหาที่ประมาณ **25--30 ผู้ใช้**
-   ค่า p95 เพิ่มจากระดับประมาณ 2 วินาที ไปเป็น **27--33 วินาที**
-   iteration duration เพิ่มขึ้นเป็น **30--40 วินาที**

**สรุป:**\
แม้ระบบจะไม่ล่ม แต่เข้าสู่ภาวะที่ตอบสนองช้ามาก (Saturation)
ซึ่งทำให้ไม่สามารถใช้งานได้จริงในสภาพดังกล่าว

------------------------------------------------------------------------

## 4) Spike Test --- ระบบฟื้นตัวเร็วแค่ไหนหลังจากโหลดพุ่งสูง?

Spike Test แบบ 5 → 50 → 5 ผู้ใช้ พบว่า:

-   ช่วงที่โหลดพุ่งขึ้น ระบบช้ามาก (p95 \~ **14--15 วินาที**)
-   เมื่อโหลดลดลง ระบบกลับมามี Response Time อยู่ที่ **600--800
    มิลลิวินาที** ภายใน **1--2 วินาที**

**สรุป:**\
ระบบฟื้นตัวได้เร็วหลังจากโหลดพุ่งสูง
ไม่มีอาการสะสมหรือหน่วงต่อเนื่องเมื่อโหลดลดลง\
หมายเหตุ: Spike Test แบบยิง 300 RPS ใช้เพื่อทดสอบล่มของระบบ
จึงไม่เหมาะสำหรับใช้วัดเวลาฟื้นตัว

------------------------------------------------------------------------

## 5) การแปลผลค่า http_req_failed, http_req_duration และ vus_max

### 5.1 http_req_failed --- ใช้ดูความเสถียรของระบบ

-   **ค่าต่ำ (ใกล้ 0%)** = ระบบตอบสนองปกติ
-   **เริ่มสูงขึ้น (\>5--20%)** = ระบบเริ่มรับโหลดไม่ไหว
-   **สูงมาก (\>50%)** = ระบบล่ม

**ผลที่พบ:**\
Load Test / Soak Test / Stress Test มีค่า 0%\
แต่ Spike Test แบบ 300 RPS มีค่า 38% แสดงว่าระบบ overload จนตอบไม่ทัน

------------------------------------------------------------------------

### 5.2 http_req_duration --- ใช้วัดความเร็วของระบบ

-   **avg / median** แสดงความเร็วที่ผู้ใช้เจอโดยทั่วไป
-   **p95/p99** ใช้ดูสถานการณ์โหลดหนักที่สุด
-   **max** คือเคสที่ช้าที่สุด

**ผลที่พบ:**\
- โหลดน้อย → เร็ว (600--800ms)\
- โหลดมาก → ช้ามาก (10--30s)\
ระบบยังตอบกลับอยู่ แต่ช้าจนไม่สามารถใช้งานได้จริง

------------------------------------------------------------------------

### 5.3 vus_max --- จำนวนผู้ใช้สูงสุดที่ระบบเจอ

-   ใช้ดูว่าระบบถูกทดสอบด้วยจำนวนผู้ใช้สูงสุดเท่าใด
-   ถ้า vus_max สูง → ระบบถูกยิงโหลดหนักมาก
-   ถ้าระบบช้าจนไม่สามารถเพิ่ม VUs ได้ → แปลว่าระบบ overload

**ผลที่พบ:**\
- Stress Test: vus_max = 50\
- Spike Test (300 RPS): vus_max = 500

แสดงว่าระบบเจอโหลดสูงจนทำงานไม่ทัน แม้ไม่ crash แต่เข้าสู่ Hard
Saturation

------------------------------------------------------------------------

# สรุปภาพรวมประสิทธิภาพระบบ

-   รองรับได้ดีในโหลดระดับต่ำ--ปานกลาง (5--8 users)
-   เมื่อถึง 10 users เริ่มช้าลงชัดเจน
-   เริ่มมีปัญหาหนักที่ประมาณ 25--30 users
-   ไม่มี memory leak หรือ error สะสม
-   ฟื้นตัวจาก Spike Load ได้ดีภายใน 1--2 วินาที
-   ระบบไม่ crash แต่ช้ามากเมื่อโหลดสูงเกินจุดอิ่มตัว

โดยรวม ระบบมีความเสถียร แต่ประสิทธิภาพขึ้นกับปริมาณผู้ใช้พร้อมกัน
และมีข้อจำกัดด้านการประมวลผล SSR เมื่อโหลดสูงมาก
